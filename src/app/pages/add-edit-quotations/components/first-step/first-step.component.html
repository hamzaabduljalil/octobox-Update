<form #form="ngForm">
  <div class="flex flex-col gap-3 my-2 w-full">
    <div class="flex flex-row gap-5">
      <div class="flex-1 flex flex-col gap-2">
        <label [dir]="currentLang() === 'ar' ? 'rtl' : 'ltr'" for="nameAr">{{
          "Name In Arabic" | translate
        }}</label>
        <input
          type="text"
          [dir]="currentLang() === 'ar' ? 'rtl' : 'ltr'"
          [(ngModel)]="data.name.ar"
          pInputText
          name="nameAr"
          id="name"
        />
      </div>
      <div class="flex-1 flex flex-col gap-2">
        <label [dir]="currentLang() === 'ar' ? 'rtl' : 'ltr'" for="nameEn">{{
          "Name In English" | translate
        }}</label>
        <input
          type="text"
          [dir]="currentLang() === 'ar' ? 'rtl' : 'ltr'"
          [(ngModel)]="data.name.en"
          pInputText
          name="nameEn"
          id="name"
        />
      </div>
    </div>

    <div class="flex gap-5 items-center">
      <div class="flex-1 flex flex-col gap-2">
        <label [dir]="currentLang() === 'ar' ? 'rtl' : 'ltr'" for="type">{{
          "Shipping Type" | translate
        }}</label>
        <p-dropdown
          class="w-full"
          [options]="types()"
          [(ngModel)]="data.shippingType"
          [dir]="currentLang() === 'ar' ? 'rtl' : 'ltr'"
          name="selectedShippingType"
          [optionLabel]="currentLang() === 'ar' ? 'name.ar' : 'name.en'"
          [filter]="true"
          filterBy="name"
          styleClass="w-full min-h-10"
        >
        </p-dropdown>
      </div>

      <div class="flex-1 flex flex-col gap-2">
        <label [dir]="currentLang() === 'ar' ? 'rtl' : 'ltr'" for="Company">{{
          "Company" | translate
        }}</label>
        <p-dropdown
          class="w-full"
          [options]="companies()"
          [dir]="currentLang() === 'ar' ? 'rtl' : 'ltr'"
          [(ngModel)]="data.shippingCompany"
          name="selectedCompany"
          [optionLabel]="currentLang() === 'ar' ? 'name.ar' : 'name.en'"
          [filter]="true"
          filterBy="name"
          styleClass="w-full min-h-10"
        >
        </p-dropdown>
      </div>
    </div>

    <div class="flex-1 flex flex-col gap-2">
      <label [dir]="currentLang() === 'ar' ? 'rtl' : 'ltr'" for="City">{{
        "City" | translate
      }}</label>
      <p-multiSelect
        class="w-full"
        [options]="cities()"
        [dir]="currentLang() === 'ar' ? 'rtl' : 'ltr'"
        [(ngModel)]="data.city"
        (onChange)="onCitiesChange()"
        name="selectedCity"
        [optionLabel]="currentLang() === 'ar' ? 'name.ar' : 'name.en'"
        [filter]="true"
        filterBy="name"
        styleClass="w-full min-h-10"
      >
      </p-multiSelect>
    </div>

    <!-- <div>
      @if(areasByCities().length > 0){
        @for(area of areasByCities(); track area){
          <h2>
            Select Area 
          </h2>
        }
      }
      </div> -->

    <div class="flex flex-wrap gap-5">
      @if( areasByCities().length > 0) { @for(area of areasByCities(); track
      area){
      <div class="flex-1 flex flex-col gap-2">
        <label [dir]="currentLang() === 'ar' ? 'rtl' : 'ltr'" for="Area">{{
          currentLang() === "ar"
            ? ("Areas In" | translate) + " " + area.city.name!.ar
            : ("Areas In" | translate) + " " + area.city.name!.en
        }}</label>
        <p-multiSelect
          class="w-full"
          [options]="area.areas"
          [dir]="currentLang() === 'ar' ? 'rtl' : 'ltr'"
          [(ngModel)]="area.selectedAreas"
          [name]="'selectedAreas_' + area.city.id"
          [optionLabel]="currentLang() === 'ar' ? 'name.ar' : 'name.en'"
          [filter]="true"
          filterBy="name"
          styleClass="w-full min-h-10"
        >
        </p-multiSelect>
      </div>
      } }
    </div>
  </div>
</form>

<!-- <div class="p-dialog-footer custom-footer py-4">
  <div class="flex justify-end">
    <p-button
      pRipple
      [label]="'Next' | translate"
      (onClick)="goToNext()"
      [loading]="saving"
      [disabled]="form.form.invalid"
      [loading]="saving"
    >
    </p-button>
  </div>
</div> -->
